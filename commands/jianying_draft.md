# Create CapCut Video from Generated Assets

## ä»»åŠ¡ç›®æ ‡
ä»é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¯»å–æ‰€æœ‰ç”Ÿæˆçš„èµ„æºï¼ˆè„šæœ¬ã€éŸ³é¢‘ã€å›¾åƒï¼‰ï¼Œç»„åˆæˆå®Œæ•´è§†é¢‘ï¼Œè‡ªåŠ¨ä¿å­˜åˆ° JianYing æ–‡ä»¶å¤¹ã€‚

**é‡è¦**ï¼šæ­¤å‘½ä»¤æ”¯æŒå¤šå›¾åœºæ™¯æ¨¡å¼ - æ¯ä¸ªåœºæ™¯å¯ä»¥åŒ…å«å¤šå¼ å›¾ç‰‡ï¼Œå›¾ç‰‡æ•°é‡ç”± `script_output.json` ä¸­çš„ `image_count` å­—æ®µå†³å®šã€‚

## è¾“å…¥è¦æ±‚
- **å¿…éœ€å‚æ•°**ï¼šé¡¹ç›®æ–‡ä»¶å¤¹è·¯å¾„
- **å¯é€‰å‚æ•°**ï¼š
  - `--test` / `-t`: æµ‹è¯•æ¨¡å¼ï¼Œä»…åˆ›å»ºå‰ 3 ä¸ªåœºæ™¯ï¼ˆé»˜è®¤: `false`ï¼‰
  - `--name` / `-n`: è‰ç¨¿åç§°å‰ç¼€ï¼ˆé»˜è®¤: ä½¿ç”¨é¡¹ç›®æ–‡ä»¶å¤¹åï¼‰

## ç”¨æˆ·ä½¿ç”¨æ–¹å¼

```bash
# åŸºæœ¬ç”¨æ³•ï¼ˆä»é¡¹ç›®æ–‡ä»¶å¤¹è¯»å–æ‰€æœ‰èµ„æºï¼‰
/video-creator:jianying_draft /path/to/project_folder

# æµ‹è¯•æ¨¡å¼ï¼ˆä»…åˆ›å»ºå‰ 3 ä¸ªåœºæ™¯ï¼‰
/video-creator:jianying_draft /path/to/project_folder --test

# è‡ªå®šä¹‰è‰ç¨¿åç§°
/video-creator:jianying_draft /path/to/project_folder --name "toxic_love_video"
```

## é¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„

æ­¤å‘½ä»¤æœŸæœ›ä»¥ä¸‹é¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„ï¼ˆæ”¯æŒå¤šå›¾åœºæ™¯ï¼‰ï¼š
```
<project_folder>/
â”œâ”€â”€ script_output.json          # è„šæœ¬+æç¤ºè¯ï¼ˆåŒ…å« image_count å­—æ®µï¼‰
â”œâ”€â”€ audio/                      # éŸ³é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ audio_001.mp3
â”‚   â”œâ”€â”€ audio_002.mp3
â”‚   â””â”€â”€ ...
â”œâ”€â”€ images/                     # å›¾åƒæ–‡ä»¶ï¼ˆæ”¯æŒå¤šå›¾å‘½åï¼‰
â”‚   â”œâ”€â”€ image_001_01.png        # åœºæ™¯1çš„ç¬¬1å¼ å›¾
â”‚   â”œâ”€â”€ image_001_02.png        # åœºæ™¯1çš„ç¬¬2å¼ å›¾
â”‚   â”œâ”€â”€ image_001_03.png        # åœºæ™¯1çš„ç¬¬3å¼ å›¾
â”‚   â”œâ”€â”€ image_002_01.png        # åœºæ™¯2çš„ç¬¬1å¼ å›¾
â”‚   â”œâ”€â”€ image_002_02.png        # åœºæ™¯2çš„ç¬¬2å¼ å›¾
â”‚   â”œâ”€â”€ image_003.png           # åœºæ™¯3åªæœ‰1å¼ å›¾ï¼ˆæ— åç¼€ï¼‰
â”‚   â””â”€â”€ ...
â””â”€â”€ subtitles.srt              # ç”Ÿæˆçš„å­—å¹•æ–‡ä»¶ï¼ˆæœ¬å‘½ä»¤ç”Ÿæˆï¼‰
```

## âš ï¸ é‡è¦ï¼šå¤šå›¾åœºæ™¯å‘½åè§„åˆ™

**å›¾åƒæ–‡ä»¶å‘½åè§„åˆ™**ï¼š
- **å•å›¾åœºæ™¯**: `image_XXX.png`ï¼ˆå¦‚ `image_003.png`ï¼‰
- **å¤šå›¾åœºæ™¯**: `image_XXX_YY.png`ï¼ˆå¦‚ `image_001_01.png`, `image_001_02.png`ï¼‰

**å…³é”®å­—æ®µ**ï¼š
- `script_output.json` ä¸­çš„ `image_count` å­—æ®µå†³å®šæ¯ä¸ªåœºæ™¯çš„å›¾ç‰‡æ•°é‡
- å›¾ç‰‡æ•°é‡ = 1 æ—¶ï¼Œæ–‡ä»¶åä¸º `image_XXX.png`
- å›¾ç‰‡æ•°é‡ > 1 æ—¶ï¼Œæ–‡ä»¶åä¸º `image_XXX_01.png`, `image_XXX_02.png`, ...

## âš ï¸ é‡è¦ï¼šå¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„

**CapCut API ä¸æ”¯æŒç›¸å¯¹è·¯å¾„**ã€‚æ‰€æœ‰æ–‡ä»¶è·¯å¾„ï¼ˆå›¾åƒã€éŸ³é¢‘ã€SRT å­—å¹•ï¼‰éƒ½å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚

## æ‰§è¡Œæ­¥éª¤

### Step 1: éªŒè¯é¡¹ç›®æ–‡ä»¶å¤¹å’Œèµ„æº

1. éªŒè¯é¡¹ç›®æ–‡ä»¶å¤¹å­˜åœ¨
2. è¯»å– `<project_folder>/script_output.json`ï¼ˆè·å– `image_count` å­—æ®µï¼‰
3. æ‰«æ `<project_folder>/audio/` ç›®å½•è·å–éŸ³é¢‘æ–‡ä»¶åˆ—è¡¨ï¼ˆæŒ‰æ–‡ä»¶åæ’åºï¼‰
4. æ‰«æ `<project_folder>/images/` ç›®å½•è·å–å®é™…å›¾åƒæ–‡ä»¶
5. éªŒè¯èµ„æºæ•°é‡åŒ¹é…

**è·å–éŸ³é¢‘æ—¶é•¿**ï¼šä½¿ç”¨ `mutagen` åº“ç›´æ¥ä»éŸ³é¢‘æ–‡ä»¶è¯»å–æ—¶é•¿ï¼Œæ— éœ€ metadata æ–‡ä»¶ã€‚

```python
from mutagen.mp3 import MP3

def get_audio_duration_ms(audio_path: str) -> float:
    """è·å–éŸ³é¢‘æ–‡ä»¶æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰"""
    audio = MP3(audio_path)
    return audio.info.length * 1000

# æ‰«æéŸ³é¢‘æ–‡ä»¶
audio_folder = f"{project_folder}/audio"
audio_files = sorted([f for f in os.listdir(audio_folder) if f.endswith('.mp3')])
audio_paths = [os.path.join(audio_folder, f) for f in audio_files]
```

### Step 2: ç¡®è®¤è§†é¢‘åˆ†è¾¨ç‡

**å¿…é¡»ä½¿ç”¨ AskUserQuestion å·¥å…·**è¯¢é—®ç”¨æˆ·è§†é¢‘åˆ†è¾¨ç‡ï¼š

```json
{
  "questions": [
    {
      "question": "è¯·é€‰æ‹©è§†é¢‘åˆ†è¾¨ç‡",
      "header": "åˆ†è¾¨ç‡",
      "options": [
        {
          "label": "YouTube æ¨ªå± (1920x1080)",
          "description": "16:9 æ¨ªå±ï¼Œé€‚åˆ YouTubeã€Bç«™ç­‰å¹³å°ï¼ˆæ¨èï¼‰"
        },
        {
          "label": "TikTok/æŠ–éŸ³ ç«–å± (1080x1920)",
          "description": "9:16 ç«–å±ï¼Œé€‚åˆ TikTokã€æŠ–éŸ³ã€Reels ç­‰çŸ­è§†é¢‘å¹³å°"
        }
      ],
      "multiSelect": false
    }
  ]
}
```

æ ¹æ®ç”¨æˆ·é€‰æ‹©è®¾ç½®åˆ†è¾¨ç‡ï¼š
- **YouTube æ¨ªå±**: `width=1920, height=1080`
- **TikTok ç«–å±**: `width=1080, height=1920`

### Step 3: æ˜¾ç¤ºä»»åŠ¡æ¦‚è§ˆ

**è¾“å‡ºæ ¼å¼ç¤ºä¾‹**ï¼š
```
ğŸ¬ åˆ›å»º CapCut è§†é¢‘ï¼ˆå¤šå›¾åœºæ™¯æ¨¡å¼ï¼‰
================================
é¡¹ç›®æ–‡ä»¶å¤¹: /Users/zhenhaohua/projects/psy_2
åœºæ™¯æ•°é‡: 9
æ€»å›¾ç‰‡æ•°é‡: 24ï¼ˆå¤šå›¾åœºæ™¯ï¼‰
è§†é¢‘å°ºå¯¸: 1920x1080 (æ¨ªå± YouTube)
è‰ç¨¿åç§°: psy_2

âœ… éªŒè¯å®Œæˆ
  - 9 ä¸ªè„šæœ¬å¥å­
  - 9 ä¸ªéŸ³é¢‘æ–‡ä»¶
  - 24 ä¸ªå›¾åƒæ–‡ä»¶
  - åœºæ™¯å›¾ç‰‡åˆ†å¸ƒ: [3, 2, 1, 2, 5, 2, 4, 2, 2]
  - æ€»æ—¶é•¿: 46.44 ç§’

å¼€å§‹åˆ›å»ºè§†é¢‘è‰ç¨¿...
```

### Step 4: åˆ›å»º CapCut è‰ç¨¿

ä½¿ç”¨ `mcp__capcut-api__create_draft` åˆ›å»ºæ–°è‰ç¨¿ï¼š

```json
{
  "width": 1920,
  "height": 1080,
  "name": "psy_2"
}
```

è‰ç¨¿ ID æ ¼å¼ï¼š`{name}_{timestamp}_{uuid}`

### Step 5: å‡†å¤‡æ‰¹é‡æ•°æ®å¹¶æ·»åŠ å›¾ç‰‡å’ŒéŸ³é¢‘

#### 5.1 ä½¿ç”¨è„šæœ¬å‡†å¤‡æ‰¹é‡æ•°æ®

ä½¿ç”¨ `${CLAUDE_PLUGIN_ROOT}/scripts/prepare_batch_data.py` è„šæœ¬ç”Ÿæˆæ‰¹é‡æ•°æ®ï¼š

```bash
python3 ${CLAUDE_PLUGIN_ROOT}/scripts/prepare_batch_data.py <project_folder>

# ç¤ºä¾‹
python3 ${CLAUDE_PLUGIN_ROOT}/scripts/prepare_batch_data.py /Users/zhenhaohua/code/test_empty/r2_0
```

**è„šæœ¬åŠŸèƒ½**ï¼š
- è¯»å– `script_output.json` è·å–åœºæ™¯ä¿¡æ¯å’Œ `image_count`
- æ‰«æ `audio/` ç›®å½•è·å–éŸ³é¢‘æ–‡ä»¶ï¼Œä½¿ç”¨ `mutagen` è¯»å–ç²¾ç¡®æ—¶é•¿
- æ‰«æ `images/` ç›®å½•è·å–å›¾ç‰‡æ–‡ä»¶
- è®¡ç®—æ¯ä¸ªå›¾ç‰‡çš„æ—¶é—´è½´ä½ç½®
- ä¸ºæ¯ä¸ªåœºæ™¯çš„ç¬¬ä¸€å¼ å›¾ç‰‡æ·»åŠ å…¥åœºåŠ¨ç”»å’Œè½¬åœºæ•ˆæœ
- ç”Ÿæˆ `images_batch.json` å’Œ `audios_batch.json`

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Total scenes: 221
Total images: 416
Total audios: 221
Total duration: 651.10 seconds (10.85 minutes)

Batch data saved:
  - /Users/zhenhaohua/code/test_empty/r2_0/images_batch.json
  - /Users/zhenhaohua/code/test_empty/r2_0/audios_batch.json
```

#### 5.2 ä½¿ç”¨ add_image_batch æ‰¹é‡æ·»åŠ å›¾ç‰‡

ä½¿ç”¨ `mcp__capcut-api__add_image_batch` ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰å›¾ç‰‡ï¼š

```json
{
  "draft_id": "psy_2_1765088956_6007bf92",
  "width": 1920,
  "height": 1080,
  "images": [
    {
      "image_url": "/absolute/path/to/image_001_01.png",
      "start": 0,
      "end": 1.62,
      "track_name": "main",
      "intro_animation": "Fade_In",
      "transition": "Dissolve"
    },
    {
      "image_url": "/absolute/path/to/image_001_02.png",
      "start": 1.62,
      "end": 3.24,
      "track_name": "main"
    },
    ...
  ]
}
```

#### 5.3 ä½¿ç”¨ add_audio_batch æ‰¹é‡æ·»åŠ éŸ³é¢‘

ä½¿ç”¨ `mcp__capcut-api__add_audio_batch` ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰éŸ³é¢‘ï¼š

```json
{
  "draft_id": "psy_2_1765088956_6007bf92",
  "width": 1920,
  "height": 1080,
  "audios": [
    {
      "audio_url": "/absolute/path/to/audio_001.mp3",
      "start": 0,
      "end": 3.204,
      "target_start": 0,
      "track_name": "audio_main"
    },
    {
      "audio_url": "/absolute/path/to/audio_002.mp3",
      "start": 0,
      "end": 2.916,
      "target_start": 3.204,
      "track_name": "audio_main"
    },
    ...
  ]
}
```

### Step 6: ç”Ÿæˆ SRT å­—å¹•æ–‡ä»¶

ä½¿ç”¨ `${CLAUDE_PLUGIN_ROOT}/scripts/generate_srt.py` è„šæœ¬ç”Ÿæˆå¸¦æ™ºèƒ½åˆ†å‰²çš„ SRT æ–‡ä»¶ï¼š

```bash
python3 ${CLAUDE_PLUGIN_ROOT}/scripts/generate_srt.py <project_folder>

# ç¤ºä¾‹
python3 ${CLAUDE_PLUGIN_ROOT}/scripts/generate_srt.py ~/projects/my_video
```

**è„šæœ¬åŠŸèƒ½**ï¼š
- è‡ªåŠ¨åˆ†å‰²è¿‡é•¿çš„å­—å¹•ï¼ˆè¶…è¿‡ 12 è¯ï¼‰
- æŒ‰è¯æ•°æ¯”ä¾‹åˆ†é…æ—¶é—´
- ç”Ÿæˆæ ‡å‡† SRT æ ¼å¼æ–‡ä»¶
- ç›´æ¥ä»éŸ³é¢‘æ–‡ä»¶è¯»å–æ—¶é•¿ï¼ˆä½¿ç”¨ mutagen åº“ï¼‰

### Step 7: æ·»åŠ å­—å¹•

âš ï¸ **å­—ä½“å¿…é¡»ä½¿ç”¨ `Poppins_Bold`**ï¼Œä¸è¦ä½¿ç”¨ `System Bold` æˆ–ä»»ä½•å…¶ä»–å­—ä½“ï¼

ä½¿ç”¨ `mcp__capcut-api__add_subtitle`ï¼š

```json
{
  "draft_id": "psy_2_1765088956_6007bf92",
  "srt_path": "/Users/zhenhaohua/projects/psy_2/subtitles.srt",
  "font": "Poppins_Bold",
  "font_size": 5,
  "font_color": "#FFFFFF",
  "border_color": "#000000",
  "border_width": 2,
  "transform_y": -0.8,
  "width": 1920,
  "height": 1080
}
```

#### ğŸš« ç¦æ­¢ä½¿ç”¨çš„å­—ä½“
- âŒ `System Bold` - ä¸æ”¯æŒï¼Œä¼šæŠ¥é”™
- âŒ `Arial` - ä¸æ”¯æŒ
- âŒ ä»»ä½•ç³»ç»Ÿå­—ä½“

#### âœ… é»˜è®¤å­—ä½“ï¼ˆç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹ï¼‰
- **`Poppins_Bold`** - é»˜è®¤å­—ä½“ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œæ— éœ€æ›´æ”¹

#### å…¶ä»–æ”¯æŒçš„å­—ä½“ï¼ˆä»…ä¾›å‚è€ƒï¼‰
- `Poppins_Regular`, `Poppins_Medium`, `Poppins_SemiBold`, `Poppins_Light`
- `Roboto_Bold`, `Roboto_Regular`, `Roboto_Medium`
- `Open_Sans_Bold`, `Open_Sans_Regular`
- `Montserrat_Bold`, `Montserrat_Regular`
- `Lato_Bold`, `Lato_Regular`

### Step 8: ä¿å­˜è‰ç¨¿

âš ï¸ **é‡è¦**: `save_draft` å¿…é¡»åœ¨**æ‰€æœ‰å…¶ä»–æ“ä½œå®Œæˆå**å•ç‹¬è°ƒç”¨ã€‚**ç»å¯¹ä¸èƒ½**ä¸ä»»ä½•å…¶ä»–å·¥å…·å¹¶è¡Œæ‰§è¡Œã€‚

ä½¿ç”¨ `mcp__capcut-api__save_draft`ï¼š

```json
{
  "draft_id": "psy_2_1765088956_6007bf92"
}
```

**æ‰§è¡Œé¡ºåºè¦æ±‚**ï¼š
1. å®Œæˆ `add_image_batch` è°ƒç”¨
2. å®Œæˆ `add_audio_batch` è°ƒç”¨
3. å®Œæˆ `add_subtitle` è°ƒç”¨
4. ç¡®è®¤ä»¥ä¸Šæ‰€æœ‰æ­¥éª¤éƒ½å·²æˆåŠŸå®Œæˆ
5. **æœ€å**å•ç‹¬è°ƒç”¨ `save_draft`ï¼ˆä¸èƒ½ä¸ä»»ä½•å…¶ä»–å·¥å…·å¹¶è¡Œï¼‰

### Step 9: æ˜¾ç¤ºå®Œæˆæ‘˜è¦

```
ğŸ‰ è§†é¢‘åˆ›å»ºå®Œæˆï¼
================================
âœ… åœºæ™¯æ•°é‡: 9
âœ… æ€»å›¾ç‰‡æ•°é‡: 24
â±ï¸  æ€»æ—¶é•¿: 46.44 ç§’
ğŸ“‚ è‰ç¨¿ ID: psy_2_1765088956_6007bf92
ğŸ“‚ è‰ç¨¿ä½ç½®: /Users/zhenhaohua/Movies/JianyingPro/User Data/Projects/com.lveditor.draft/

åœºæ™¯å›¾ç‰‡åˆ†å¸ƒ:
  - åœºæ™¯ 1: 3 å¼ å›¾ç‰‡ (4.86s)
  - åœºæ™¯ 2: 2 å¼ å›¾ç‰‡ (4.18s)
  - åœºæ™¯ 3: 1 å¼ å›¾ç‰‡ (1.76s)
  - åœºæ™¯ 4: 2 å¼ å›¾ç‰‡ (4.50s)
  - åœºæ™¯ 5: 5 å¼ å›¾ç‰‡ (10.15s)
  - åœºæ™¯ 6: 2 å¼ å›¾ç‰‡ (5.54s)
  - åœºæ™¯ 7: 4 å¼ å›¾ç‰‡ (9.04s)
  - åœºæ™¯ 8: 2 å¼ å›¾ç‰‡ (3.64s)
  - åœºæ™¯ 9: 2 å¼ å›¾ç‰‡ (2.77s)

ä¸‹ä¸€æ­¥æ“ä½œ:
  1. åœ¨ JianYing Pro ä¸­æ‰“å¼€è‰ç¨¿
  2. é¢„è§ˆè§†é¢‘æ•ˆæœ
  3. å¯¼å‡ºæœ€ç»ˆè§†é¢‘
```

## æ—¶é—´è½´è®¡ç®—é€»è¾‘ï¼ˆå¤šå›¾åœºæ™¯ï¼‰

**æ ¸å¿ƒç®—æ³•**ï¼š

æ­¤é€»è¾‘å·²å°è£…åœ¨ `${CLAUDE_PLUGIN_ROOT}/scripts/prepare_batch_data.py` è„šæœ¬ä¸­ã€‚

è„šæœ¬æ ¸å¿ƒé€»è¾‘ï¼š
1. éå† `script_output.json` ä¸­çš„æ¯ä¸ªåœºæ™¯
2. ä½¿ç”¨ `mutagen` è¯»å–å¯¹åº”éŸ³é¢‘æ–‡ä»¶çš„ç²¾ç¡®æ—¶é•¿
3. æ ¹æ® `image_count` è®¡ç®—æ¯å¼ å›¾ç‰‡çš„å±•ç¤ºæ—¶é•¿
4. ä¸ºæ¯ä¸ªåœºæ™¯çš„ç¬¬ä¸€å¼ å›¾ç‰‡æ·»åŠ å…¥åœºåŠ¨ç”»å’Œè½¬åœºæ•ˆæœï¼ˆå¾ªç¯ä½¿ç”¨åŠ¨ç”»åˆ—è¡¨ï¼‰
5. ç”Ÿæˆ `images_batch.json` å’Œ `audios_batch.json` ä¾› CapCut API ä½¿ç”¨

## æµ‹è¯•æ¨¡å¼

ä½¿ç”¨ `--test` å‚æ•°å¯ä»¥å¿«é€Ÿåˆ›å»ºå‰ 3 ä¸ªåœºæ™¯è¿›è¡Œæµ‹è¯•ï¼š

```bash
/video-creator:jianying_draft /path/to/project_folder --test
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- æµ‹è¯•å¤šå›¾åœºæ™¯çš„åŠ¨ç”»å’Œè½¬åœºæ•ˆæœ
- éªŒè¯å­—å¹•æ ·å¼
- å¿«é€Ÿé¢„è§ˆè§†é¢‘é£æ ¼
- è°ƒè¯•éŸ³é¢‘å’Œå›¾åƒåŒ¹é…é—®é¢˜

## åŠ¨ç”»å‚æ•°è¯´æ˜

- `intro_animation`: å…¥åœºåŠ¨ç”»ï¼ˆå¦‚ `Fade_In`, `Zoom_1`, `Slide_Down`ï¼‰
- `outro_animation`: å‡ºåœºåŠ¨ç”»ï¼ˆå¦‚ `Fade_Out`, `Zoom_Out`ï¼‰
- `transition`: è½¬åœºæ•ˆæœï¼ˆå¦‚ `Dissolve`, `Mix`, `Black_Fade`ï¼‰

**é‡è¦**: åŠ¨ç”»åç§°å¿…é¡»ä½¿ç”¨æ­£ç¡®çš„å¤§å°å†™å’Œä¸‹åˆ’çº¿æ ¼å¼
- âœ… æ­£ç¡®: `Fade_In`, `Zoom_1`, `Dissolve`
- âŒ é”™è¯¯: `fade_in`, `zoom-1`, `FADE_IN`

### æ”¯æŒçš„å…¥åœºåŠ¨ç”»ï¼ˆCapCut_Intro_typeï¼‰

ä»¥ä¸‹æ˜¯ç»è¿‡éªŒè¯çš„å…¥åœºåŠ¨ç”»åç§°ï¼š
- `Fade_In` - æ·¡å…¥
- `Zoom_1` - ç¼©æ”¾1
- `Zoom_2` - ç¼©æ”¾2
- `Zoom_In` - æ”¾å¤§
- `Zoom_Out` - ç¼©å°
- `Slide_Down` - å‘ä¸‹æ»‘å…¥
- `Slide_Up` - å‘ä¸Šæ»‘å…¥
- `Slide_Left` - å‘å·¦æ»‘å…¥
- `Slide_Right` - å‘å³æ»‘å…¥
- `Rotate` - æ—‹è½¬
- `Flip` - ç¿»è½¬
- `Blinds` - ç™¾å¶çª—
- `Shake_1` / `Shake_2` / `Shake_3` - æŠ–åŠ¨
- `Swing` - æ‘‡æ‘†
- `Whirl` - æ¼©æ¶¡
- `Mini_Zoom` - å¾®ç¼©æ”¾
- `Puzzle` - æ‹¼å›¾
- `Wiper` - é›¨åˆ·

### æ”¯æŒçš„è½¬åœºæ•ˆæœï¼ˆCapCut_Transition_typeï¼‰

ä»¥ä¸‹æ˜¯ç»è¿‡æµ‹è¯•éªŒè¯çš„è½¬åœºæ•ˆæœåç§°ï¼š
- `Dissolve` - æº¶è§£ âœ…
- `Mix` - æ··åˆ âœ…
- `Black_Fade` - é»‘è‰²æ·¡å…¥ âœ…
- `White_Flash` - ç™½è‰²é—ªçƒ âœ…
- `Blur` - æ¨¡ç³Š âœ…
- `Slide` - æ»‘åŠ¨ âœ…
- `Wipe_Right` / `Wipe_Left` / `Wipe_Up` - æ“¦é™¤ âœ…
- `Flip` - ç¿»è½¬ âœ…
- `Split` - åˆ†è£‚ âœ…
- `Pull_in` / `Pull_Out` - æ‹‰å…¥/æ‹‰å‡º âœ…
- `Mosaic` - é©¬èµ›å…‹ âœ…
- `Glitch` - æ•…éšœ âœ…
- `Blocks` - æ–¹å—
- `Woosh` - å‘¼å•¸
- `Open` - æ‰“å¼€
- `Switch` - åˆ‡æ¢
- `Cube` - ç«‹æ–¹ä½“ âœ…

âš ï¸ **æ³¨æ„**: `Blinds`ï¼ˆç™¾å¶çª—ï¼‰åªèƒ½ç”¨äº `intro_animation`ï¼Œ**ä¸èƒ½**ç”¨äº `transition`

## è¾¹ç•Œæƒ…å†µå¤„ç†

### é¡¹ç›®æ–‡ä»¶å¤¹ä¸å­˜åœ¨
```
âŒ é”™è¯¯ï¼šé¡¹ç›®æ–‡ä»¶å¤¹ä¸å­˜åœ¨ - /path/to/project
è¯·å…ˆè¿è¡Œ /video-creator:scene-and-prompt å‘½ä»¤åˆ›å»ºé¡¹ç›®
```

### ç¼ºå°‘å¿…è¦æ–‡ä»¶
```
âŒ èµ„æºéªŒè¯å¤±è´¥

ç¼ºå°‘çš„æ–‡ä»¶/ç›®å½•:
  - audio/ ç›®å½•ä¸å­˜åœ¨æˆ–ä¸ºç©º
  - script_output.json

è¯·å…ˆè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆèµ„æº:
  /video-creator:audio /path/to/project_folder
  /video-creator:image /path/to/project_folder
```

### å›¾åƒæ–‡ä»¶ç¼ºå¤±
```
âš ï¸ è­¦å‘Šï¼šåœºæ™¯ 5 æœŸæœ› 5 å¼ å›¾ç‰‡ï¼Œä½†åªæ‰¾åˆ° 3 å¼ 
  æœŸæœ›: image_005_01.png, image_005_02.png, image_005_03.png, image_005_04.png, image_005_05.png
  æ‰¾åˆ°: image_005_01.png, image_005_02.png, image_005_03.png

å°†ä½¿ç”¨æ‰¾åˆ°çš„ 3 å¼ å›¾ç‰‡ç»§ç»­å¤„ç†
```

### image_count å­—æ®µç¼ºå¤±
å¦‚æœ `script_output.json` ä¸­æ²¡æœ‰ `image_count` å­—æ®µï¼Œé»˜è®¤æ¯ä¸ªåœºæ™¯ä¸º 1 å¼ å›¾ç‰‡ï¼ˆå‘åå…¼å®¹ï¼‰ã€‚

## âš ï¸ é‡è¦ï¼šMCP å·¥å…·é”™è¯¯å¤„ç†

æ‰§è¡Œè¿‡ç¨‹ä¸­å¿…é¡»æ£€æŸ¥æ¯ä¸ª MCP å·¥å…·è°ƒç”¨çš„è¿”å›ç»“æœï¼Œå¹¶æ­£ç¡®å¤„ç†é”™è¯¯ã€‚

### é”™è¯¯æ£€æµ‹è§„åˆ™

æ¯æ¬¡è°ƒç”¨ MCP å·¥å…·åï¼Œå¿…é¡»æ£€æŸ¥è¿”å›ç»“æœï¼š

```python
# æ£€æŸ¥è¿”å›ç»“æœ
result = mcp__capcut-api__add_image_batch(...)

if result.get("success") == False:
    # è®°å½•é”™è¯¯
    error_msg = result.get("error", "Unknown error")
    errors.append({"error": error_msg})
```

### å¸¸è§é”™è¯¯ç±»å‹

1. **ä¸æ”¯æŒçš„åŠ¨ç”»ç±»å‹**ï¼š
   ```json
   {
     "success": false,
     "error": "Warning: Unsupported entrance animation type Float_Up_1, this parameter will be ignored"
   }
   ```
   **å¤„ç†æ–¹å¼**ï¼šè®°å½•è­¦å‘Šï¼Œå›¾ç‰‡ä»ä¼šæ·»åŠ ä½†åŠ¨ç”»è¢«å¿½ç•¥

2. **ä¸æ”¯æŒçš„è½¬åœºç±»å‹**ï¼š
   ```json
   {
     "success": false,
     "error": "Warning: Unsupported transition type RotationEnlarge, this parameter will be ignored"
   }
   ```
   **å¤„ç†æ–¹å¼**ï¼šè®°å½•è­¦å‘Šï¼Œå›¾ç‰‡ä»ä¼šæ·»åŠ ä½†è½¬åœºè¢«å¿½ç•¥

3. **æ–‡ä»¶è·¯å¾„é”™è¯¯**ï¼š
   ```json
   {
     "success": false,
     "error": "File not found: /path/to/image.png"
   }
   ```
   **å¤„ç†æ–¹å¼**ï¼šè®°å½•é”™è¯¯ï¼Œç»§ç»­å¤„ç†å…¶ä»–å›¾ç‰‡

### é”™è¯¯æ±‡æ€»æŠ¥å‘Š

åœ¨è§†é¢‘åˆ›å»ºå®Œæˆåï¼Œå¿…é¡»æ˜¾ç¤ºé”™è¯¯æ±‡æ€»ï¼š

```
ğŸ¬ è§†é¢‘åˆ›å»ºå®Œæˆ
================================

âš ï¸ åˆ›å»ºè¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹è­¦å‘Š/é”™è¯¯ï¼š

è­¦å‘Š (4):
  - åœºæ™¯ 3: ä¸æ”¯æŒçš„å…¥åœºåŠ¨ç”» "Float_Up_1"ï¼Œå·²å¿½ç•¥
  - åœºæ™¯ 4: ä¸æ”¯æŒçš„å…¥åœºåŠ¨ç”» "Zoom_Rotate_1"ï¼Œå·²å¿½ç•¥

é”™è¯¯ (0):
  æ— 

âœ… æ‰€æœ‰ 23 å¼ å›¾ç‰‡å·²æ·»åŠ ï¼ˆ4 å¼ å›¾ç‰‡çš„åŠ¨ç”»å‚æ•°è¢«å¿½ç•¥ï¼‰
âœ… æ‰€æœ‰ 9 ä¸ªéŸ³é¢‘æ–‡ä»¶å·²æ·»åŠ 
âœ… å­—å¹•å·²æ·»åŠ 
âœ… è‰ç¨¿å·²ä¿å­˜

ğŸ“‚ è‰ç¨¿ ID: psy_2_1765089986_60a7edef
```

### ä¸è¦æ˜¾ç¤ºæˆåŠŸï¼Œå¦‚æœæœ‰é”™è¯¯

**é‡è¦**ï¼šå¦‚æœå­˜åœ¨ä»»ä½•é”™è¯¯æˆ–è­¦å‘Šï¼Œæœ€ç»ˆæ‘˜è¦å¿…é¡»æ˜ç¡®æŒ‡å‡ºï¼Œè€Œä¸æ˜¯åªæ˜¾ç¤º"è§†é¢‘åˆ›å»ºå®Œæˆï¼"

âŒ **é”™è¯¯åšæ³•**ï¼š
```
ğŸ‰ è§†é¢‘åˆ›å»ºå®Œæˆï¼
================================
âœ… åœºæ™¯æ•°é‡: 9
âœ… æ€»å›¾ç‰‡æ•°é‡: 23
```

âœ… **æ­£ç¡®åšæ³•**ï¼š
```
ğŸ¬ è§†é¢‘åˆ›å»ºå®Œæˆï¼ˆæœ‰è­¦å‘Šï¼‰
================================
âœ… åœºæ™¯æ•°é‡: 9
âœ… æ€»å›¾ç‰‡æ•°é‡: 23

âš ï¸ è­¦å‘Šï¼š4 ä¸ªå›¾ç‰‡çš„åŠ¨ç”»å‚æ•°ä¸å—æ”¯æŒï¼Œå·²è¢«å¿½ç•¥
  è¯¦æƒ…ï¼š
  - åœºæ™¯ 3: Float_Up_1 ä¸æ”¯æŒ
  - åœºæ™¯ 4: Zoom_Rotate_1 ä¸æ”¯æŒ

å»ºè®®ï¼šè¯·å‚è€ƒæ–‡æ¡£ä¸­çš„"æ”¯æŒçš„å…¥åœºåŠ¨ç”»"åˆ—è¡¨ï¼Œä½¿ç”¨æœ‰æ•ˆçš„åŠ¨ç”»åç§°
```

## æˆåŠŸæ ‡å‡†

âœ… ä»»åŠ¡æˆåŠŸçš„æ ‡å¿—ï¼š
1. æˆåŠŸä»é¡¹ç›®æ–‡ä»¶å¤¹è¯»å–æ‰€æœ‰èµ„æºï¼ˆåŒ…æ‹¬ `image_count` å­—æ®µï¼‰
2. è¯¢é—®ç”¨æˆ·ç¡®è®¤è§†é¢‘åˆ†è¾¨ç‡ï¼ˆYouTube æ¨ªå± æˆ– TikTok ç«–å±ï¼‰
3. åˆ›å»ºå¸¦åç§°å‰ç¼€çš„ CapCut è‰ç¨¿
4. ä½¿ç”¨ `add_image_batch` æ‰¹é‡æ·»åŠ æ‰€æœ‰å›¾ç‰‡
5. ä½¿ç”¨ `add_audio_batch` æ‰¹é‡æ·»åŠ æ‰€æœ‰éŸ³é¢‘
6. ç”Ÿæˆ SRT å­—å¹•æ–‡ä»¶å¹¶æ·»åŠ å­—å¹•
7. æˆåŠŸä¿å­˜è‰ç¨¿åˆ° JianYing æ–‡ä»¶å¤¹
8. è‰ç¨¿å¯åœ¨ JianYing Pro ä¸­æ­£å¸¸æ‰“å¼€å’Œé¢„è§ˆ

## æ³¨æ„äº‹é¡¹

- **ä½¿ç”¨ç»å¯¹è·¯å¾„**: å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ŒCapCut API ä¸æ”¯æŒç›¸å¯¹è·¯å¾„
- **ä¼˜å…ˆä½¿ç”¨æ‰¹é‡å·¥å…·**: ä½¿ç”¨ `add_image_batch` å’Œ `add_audio_batch` ä»£æ›¿é€ä¸ªæ·»åŠ 
- **ç¡®è®¤åˆ†è¾¨ç‡**: å¼€å§‹å‰å¿…é¡»è¯¢é—®ç”¨æˆ·é€‰æ‹© YouTube æ¨ªå±æˆ– TikTok ç«–å±
- **å¤šå›¾å‘½åè§„åˆ™**: å•å›¾ä¸º `image_XXX.png`ï¼Œå¤šå›¾ä¸º `image_XXX_YY.png`
- **æ—¶é•¿åˆ†é…**: åœºæ™¯éŸ³é¢‘æ—¶é•¿å¹³å‡åˆ†é…ç»™è¯¥åœºæ™¯çš„æ‰€æœ‰å›¾ç‰‡
- **åŠ¨ç”»è§„åˆ™**: åªåœ¨åœºæ™¯çš„**ç¬¬ä¸€å¼ å›¾ç‰‡**æ·»åŠ åŠ¨ç”»å’Œè½¬åœºï¼Œåœºæ™¯å†…çš„åç»­å›¾ç‰‡ç›´æ¥åˆ‡æ¢ï¼ˆæ— åŠ¨ç”»ï¼‰
- **åŠ¨ç”»è½®æ¢**: æŒ‰**åœºæ™¯ç´¢å¼•**è½®æ¢ï¼Œè€Œéå…¨å±€å›¾ç‰‡ç´¢å¼•
- **éŸ³é¢‘åªæ·»åŠ ä¸€æ¬¡**: æ¯ä¸ªåœºæ™¯çš„éŸ³é¢‘åªæ·»åŠ ä¸€æ¬¡ï¼Œä¸è¦ä¸ºæ¯å¼ å›¾ç‰‡é‡å¤æ·»åŠ 
- **è‰ç¨¿åç§°**: ä½¿ç”¨ `--name` å‚æ•°æˆ–é»˜è®¤ä½¿ç”¨é¡¹ç›®æ–‡ä»¶å¤¹åä½œä¸ºè‰ç¨¿å‰ç¼€
- **æ—¶é•¿ç²¾ç¡®æ€§**: ä½¿ç”¨ mutagen ä»éŸ³é¢‘æ–‡ä»¶ç›´æ¥è¯»å–ç²¾ç¡®æ—¶é•¿ï¼Œä¸è¦ä¼°ç®—
- **åœºæ™¯é¡ºåº**: å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ JSON æ•°ç»„é¡ºåºæ·»åŠ åœºæ™¯
- **å­—å¹•ç±»å‹**: ä½¿ç”¨ `add_subtitle` ç¡®ä¿æ­£ç¡®çš„ `type: subtitle`
- **å­—ä½“é€‰æ‹©**: å¿…é¡»ä½¿ç”¨æ”¯æŒçš„å­—ä½“ï¼ˆå¦‚ `Poppins_Bold`ï¼‰ï¼Œä¸è¦ä½¿ç”¨ `System Bold` ç­‰ç³»ç»Ÿå­—ä½“
- **ä¿å­˜é¡ºåº**: `save_draft` å¿…é¡»åœ¨æ‰€æœ‰å…¶ä»–æ“ä½œå®Œæˆåå•ç‹¬è°ƒç”¨ï¼Œ**ç»å¯¹ä¸èƒ½**ä¸ä»»ä½•å·¥å…·å¹¶è¡Œæ‰§è¡Œ
- **å‘åå…¼å®¹**: å¦‚æœ `image_count` å­—æ®µç¼ºå¤±ï¼Œé»˜è®¤ä¸º 1 å¼ å›¾ç‰‡
